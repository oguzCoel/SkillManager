<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"> 
 
    <ui:composition template="/templates/default/template.xhtml">
        <ui:define name="content">
        	<ui:insert>
        	
        <f:metadata>
			<f:viewParam name="md" value="#{mitarbeiterTable.id}"/>
			<f:event type="preRenderView" listener="#{mitarbeiterTable.delete}"/>
		</f:metadata>
        	<h:form>
				<p:growl id="messages" showDetail="true" />        	
        		<p:toolbar>
        			<f:facet name="right">
        				<p:commandButton value="Neu" icon="ui-icon-plus" ajax="false" action="mitarbeiterformular" />
        			</f:facet>
        		</p:toolbar>
        	</h:form>
        	<h:form>
			  <p:dataTable id="mitarbeitertable" var="mitarbeiters" value="#{mitarbeiterTable.mitarbeiters}">
			    <p:column headerText="Id">
			        <h:outputText value="#{mitarbeiters.mitarbeiterId}" />
			    </p:column>
			 
			    <p:column headerText="Name">
			        <h:outputText value="#{mitarbeiters.mitarbeiterVorname} " />
			        <h:outputText value="#{mitarbeiters.mitarbeiterNachname} " />
			    </p:column>
			 
			    <p:column headerText="Abteilung">
			        <h:outputText value="#{mitarbeiters.getAbteilung().getAbteilungName()}" />
			    </p:column>
			 
			    <p:column headerText="Rolle">
			        <h:outputText value="#{mitarbeiters.mitarbeiterRolle}" />
			    </p:column>
			    
			    <p:column>
			    	  <p:link outcome="mitarbeiteredit">
                          <f:param name="meid" value="#{mitarbeiters.mitarbeiterId}"/>
                          <i class=" icon-pencil" style="margin-top:5px;"></i>
                      </p:link>
                      <p:link outcome="mitarbeitertable" action="#{mitarbeiterTable.delete}">
                          <f:param name="md" value="#{mitarbeiters.mitarbeiterId}"/>
                          <i class="icon-delete" style="margin-top:5px;"></i>
                      </p:link>
			    </p:column>
			</p:dataTable>
			</h:form>
        	</ui:insert>            
 
        </ui:define>
    </ui:composition>        
 
</html> 